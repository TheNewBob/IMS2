<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>IMS2: IMS_PropellantInjector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IMS2
   &#160;<span id="projectnumber">Pre-Alpha</span>
   </div>
   <div id="projectbrief">An Orbiter add-on to allow on-runtime construction of spacecraft from predefined modules</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_i_m_s___propellant_injector.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_i_m_s___propellant_injector-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">IMS_PropellantInjector Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handles the proliferation of propellant mixtures to thrusters.  
 <a href="class_i_m_s___propellant_injector.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8ec6852ac174abe434d688894e6090b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#a8ec6852ac174abe434d688894e6090b4">IMS_PropellantInjector</a> (vector&lt; int &gt; &amp;propellant_ids, vector&lt; float &gt; &amp;<a class="el" href="class_i_m_s___propellant_injector.html#a7de09bfb5cde8f33302694c84525af04">ratio</a>, double efficiency, VESSEL *vessel)</td></tr>
<tr class="separator:a8ec6852ac174abe434d688894e6090b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81deb8adc3b86d81c190c91a49db452e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#a81deb8adc3b86d81c190c91a49db452e">ConnectTank</a> (IMS_Storable *tank)</td></tr>
<tr class="memdesc:a81deb8adc3b86d81c190c91a49db452e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connects a tank to this injector.  <a href="#a81deb8adc3b86d81c190c91a49db452e">More...</a><br /></td></tr>
<tr class="separator:a81deb8adc3b86d81c190c91a49db452e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eac5982f98b7458ab81e98c6b2a4dc4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#a4eac5982f98b7458ab81e98c6b2a4dc4">DisconnectTank</a> (IMS_Storable *tank)</td></tr>
<tr class="memdesc:a4eac5982f98b7458ab81e98c6b2a4dc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnects a tank from this injector.  <a href="#a4eac5982f98b7458ab81e98c6b2a4dc4">More...</a><br /></td></tr>
<tr class="separator:a4eac5982f98b7458ab81e98c6b2a4dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d6028770cac10323e2bb410ae8a697d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#a8d6028770cac10323e2bb410ae8a697d">ConnectThruster</a> (THRUSTER_HANDLE thruster, double maxmassflow)</td></tr>
<tr class="memdesc:a8d6028770cac10323e2bb410ae8a697d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connects a thruster to this injector.  <a href="#a8d6028770cac10323e2bb410ae8a697d">More...</a><br /></td></tr>
<tr class="separator:a8d6028770cac10323e2bb410ae8a697d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7f30fda51853108a3ff253d346f7f3f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#ad7f30fda51853108a3ff253d346f7f3f">DisconnectThruster</a> (THRUSTER_HANDLE thruster, double maxmassflow)</td></tr>
<tr class="memdesc:ad7f30fda51853108a3ff253d346f7f3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a thruster from this injector.  <a href="#ad7f30fda51853108a3ff253d346f7f3f">More...</a><br /></td></tr>
<tr class="separator:ad7f30fda51853108a3ff253d346f7f3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaab3c3741bb620194040920db020b261"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#aaab3c3741bb620194040920db020b261">EnableThruster</a> (THRUSTER_HANDLE thruster)</td></tr>
<tr class="memdesc:aaab3c3741bb620194040920db020b261"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks a thruster as ready for operation.  <a href="#aaab3c3741bb620194040920db020b261">More...</a><br /></td></tr>
<tr class="separator:aaab3c3741bb620194040920db020b261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5899af38dd1b1bd5e6960798b129c367"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#a5899af38dd1b1bd5e6960798b129c367">DisableThruster</a> (THRUSTER_HANDLE thruster)</td></tr>
<tr class="memdesc:a5899af38dd1b1bd5e6960798b129c367"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks a thruster as not currently operational.  <a href="#a5899af38dd1b1bd5e6960798b129c367">More...</a><br /></td></tr>
<tr class="separator:a5899af38dd1b1bd5e6960798b129c367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedac3dbc48d488c3d04800e7a7113561"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#aedac3dbc48d488c3d04800e7a7113561">GetNumberOfThrusters</a> ()</td></tr>
<tr class="separator:aedac3dbc48d488c3d04800e7a7113561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74086fe311dc9184ca92802cf5e6bbd2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a74086fe311dc9184ca92802cf5e6bbd2"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>GetMass</b> ()</td></tr>
<tr class="separator:a74086fe311dc9184ca92802cf5e6bbd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6270bb8283bf73a07f78094d09e136d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#ab6270bb8283bf73a07f78094d09e136d">PreStep</a> ()</td></tr>
<tr class="memdesc:ab6270bb8283bf73a07f78094d09e136d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates propellant consumption since last call.  <a href="#ab6270bb8283bf73a07f78094d09e136d">More...</a><br /></td></tr>
<tr class="separator:ab6270bb8283bf73a07f78094d09e136d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad406d4473e847c512abda6cbae11e9fa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#ad406d4473e847c512abda6cbae11e9fa">CompareMixture</a> (vector&lt; int &gt; &amp;propellant_ids, vector&lt; float &gt; &amp;<a class="el" href="class_i_m_s___propellant_injector.html#a7de09bfb5cde8f33302694c84525af04">ratio</a>, double efficiency)</td></tr>
<tr class="separator:ad406d4473e847c512abda6cbae11e9fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76171d2053a531f5c519d2caafe67fbe"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#a76171d2053a531f5c519d2caafe67fbe">GetAvailablePropellantMass</a> ()</td></tr>
<tr class="separator:a76171d2053a531f5c519d2caafe67fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a75897be300fac5841077263fbd7cb42e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a75897be300fac5841077263fbd7cb42e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#a75897be300fac5841077263fbd7cb42e">checkValidity</a> ()</td></tr>
<tr class="memdesc:a75897be300fac5841077263fbd7cb42e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the injector can work with the currently connected tanks and sets the isViable flag accordingly. <br /></td></tr>
<tr class="separator:a75897be300fac5841077263fbd7cb42e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e9fca81b9ecdde5873435596c06f66"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a08e9fca81b9ecdde5873435596c06f66"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#a08e9fca81b9ecdde5873435596c06f66">disableInjector</a> ()</td></tr>
<tr class="memdesc:a08e9fca81b9ecdde5873435596c06f66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables all thrusters in the injector, but without actually changing their enabled status. This is used when the injector doesn't have enough propellant anymore to work. The operational state of. <br /></td></tr>
<tr class="separator:a08e9fca81b9ecdde5873435596c06f66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a585bb59f665d8e8fe96862965adc3ced"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a585bb59f665d8e8fe96862965adc3ced"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#a585bb59f665d8e8fe96862965adc3ced">enableInjector</a> ()</td></tr>
<tr class="memdesc:a585bb59f665d8e8fe96862965adc3ced"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables all thrusters that are enabled. This is used to re-enable an injector when new propellant becomes available. The operational status of individual thrusters is not affected. <br /></td></tr>
<tr class="separator:a585bb59f665d8e8fe96862965adc3ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a357e1eaa8c63a378d24c9219375a6819"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#a357e1eaa8c63a378d24c9219375a6819">scaleInjectorResource</a> ()</td></tr>
<tr class="separator:a357e1eaa8c63a378d24c9219375a6819"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ab766b63f9dbea60af8f3d9bfad4510f7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab766b63f9dbea60af8f3d9bfad4510f7"></a>
vector&lt; IMS_Storable * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#ab766b63f9dbea60af8f3d9bfad4510f7">tanks</a></td></tr>
<tr class="memdesc:ab766b63f9dbea60af8f3d9bfad4510f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">contains all currently connected tanks <br /></td></tr>
<tr class="separator:ab766b63f9dbea60af8f3d9bfad4510f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7de09bfb5cde8f33302694c84525af04"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7de09bfb5cde8f33302694c84525af04"></a>
map&lt; int, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#a7de09bfb5cde8f33302694c84525af04">ratio</a></td></tr>
<tr class="memdesc:a7de09bfb5cde8f33302694c84525af04"><td class="mdescLeft">&#160;</td><td class="mdescRight">maps ratioes to their respective propellant types <br /></td></tr>
<tr class="separator:a7de09bfb5cde8f33302694c84525af04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a324a7bb1e7042916f604cc849d0d9b6b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a324a7bb1e7042916f604cc849d0d9b6b"></a>
map&lt; THRUSTER_HANDLE, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#a324a7bb1e7042916f604cc849d0d9b6b">thrusters</a></td></tr>
<tr class="memdesc:a324a7bb1e7042916f604cc849d0d9b6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores all handles to thrusters proliferated by this injector, and whether they are enabled or not. <br /></td></tr>
<tr class="separator:a324a7bb1e7042916f604cc849d0d9b6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f52a7baff0fa78c26e30a21d4abe91a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1f52a7baff0fa78c26e30a21d4abe91a"></a>
PROPELLANT_HANDLE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#a1f52a7baff0fa78c26e30a21d4abe91a">injector</a> = NULL</td></tr>
<tr class="memdesc:a1f52a7baff0fa78c26e30a21d4abe91a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The orbiter propellant resource the injector uses to satisfy orbiter. It also serves as a kind of feedback event to know how much propellant is actually consumed. <br /></td></tr>
<tr class="separator:a1f52a7baff0fa78c26e30a21d4abe91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9db41ab3fdfd791860b4663cd3c4d0e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af9db41ab3fdfd791860b4663cd3c4d0e"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#af9db41ab3fdfd791860b4663cd3c4d0e">currenttimewarp</a></td></tr>
<tr class="memdesc:af9db41ab3fdfd791860b4663cd3c4d0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">the time acceleration the sim is currently in. Needed for scaling the propellant resource. <br /></td></tr>
<tr class="separator:af9db41ab3fdfd791860b4663cd3c4d0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c8e3e042a612347a8ae267a4dbf4fb5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1c8e3e042a612347a8ae267a4dbf4fb5"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#a1c8e3e042a612347a8ae267a4dbf4fb5">totalmaxmassflow</a> = 0</td></tr>
<tr class="memdesc:a1c8e3e042a612347a8ae267a4dbf4fb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">the maximum total massflow that can pass through this injector, in kg/s <br /></td></tr>
<tr class="separator:a1c8e3e042a612347a8ae267a4dbf4fb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f5a630dd1e3eca7dcdbc2dc57f98091"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3f5a630dd1e3eca7dcdbc2dc57f98091"></a>
VESSEL *&#160;</td><td class="memItemRight" valign="bottom"><b>v</b></td></tr>
<tr class="separator:a3f5a630dd1e3eca7dcdbc2dc57f98091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c1ce9b29dd2fc5a3d8dd4098dba4657"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7c1ce9b29dd2fc5a3d8dd4098dba4657"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>injectormass</b> = 0</td></tr>
<tr class="separator:a7c1ce9b29dd2fc5a3d8dd4098dba4657"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a486fa4d4bb1edc0ee6462fad0eaa66ac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a486fa4d4bb1edc0ee6462fad0eaa66ac"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#a486fa4d4bb1edc0ee6462fad0eaa66ac">injectormasschanged</a> = false</td></tr>
<tr class="memdesc:a486fa4d4bb1edc0ee6462fad0eaa66ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if the mass of the virtual resource has changed during this frame. <br /></td></tr>
<tr class="separator:a486fa4d4bb1edc0ee6462fad0eaa66ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a635d278526a438ffcd10ec5523a5140b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a635d278526a438ffcd10ec5523a5140b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m_s___propellant_injector.html#a635d278526a438ffcd10ec5523a5140b">isViable</a> = false</td></tr>
<tr class="memdesc:a635d278526a438ffcd10ec5523a5140b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows whether the injector has all necessary propellants to actually work. <br /></td></tr>
<tr class="separator:a635d278526a438ffcd10ec5523a5140b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles the proliferation of propellant mixtures to thrusters. </p>
<p>You should not think of this as a physical piece of machinery running in the ship. This is a purely virtual construct for the benefit of easier code, it does not have any physical equivalent. It is named PropellantInjector because the job-description comes close to what it does (proliferation of correct mixtures from tanks to thrusters), but it really only exists because orbiter insists that a thruster take its propellant from a single propellant resource. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8ec6852ac174abe434d688894e6090b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IMS_PropellantInjector::IMS_PropellantInjector </td>
          <td>(</td>
          <td class="paramtype">vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>propellant_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>ratio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>efficiency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VESSEL *&#160;</td>
          <td class="paramname"><em>vessel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">propellant_ids</td><td>A list of all propellant ids contained in this injectors mixture </td></tr>
    <tr><td class="paramname">ratio</td><td>a list of ratioes at which the corresponding ids have to be mixed. </td></tr>
    <tr><td class="paramname">prop_efficiency</td><td>The efficiency at which this mixture is converted into thrust by the thruster </td></tr>
    <tr><td class="paramname">vessel</td><td>The vessel this PropellantInjector is located on </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Exaple: propellant_ids{1,2} and ratio{1,6} means that the propellant type with id 1 and the propellant type with id 2 have to be mixed at a ratio of 1:6.  and ratio must have the same size! </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad406d4473e847c512abda6cbae11e9fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IMS_PropellantInjector::CompareMixture </td>
          <td>(</td>
          <td class="paramtype">vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>propellant_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>ratio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>efficiency</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>True if the mixture of this injector matches the mixture passed in the arguments, false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a81deb8adc3b86d81c190c91a49db452e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IMS_PropellantInjector::ConnectTank </td>
          <td>(</td>
          <td class="paramtype">IMS_Storable *&#160;</td>
          <td class="paramname"><em>tank</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connects a tank to this injector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tank</td><td>The IMS_Storable to be added as a tank </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the tank was added, false if the tank did not contain any consumable compatible with this injector </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_i_m_s___propellant_injector.html#a4eac5982f98b7458ab81e98c6b2a4dc4" title="Disconnects a tank from this injector. ">DisconnectTank()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a8d6028770cac10323e2bb410ae8a697d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IMS_PropellantInjector::ConnectThruster </td>
          <td>(</td>
          <td class="paramtype">THRUSTER_HANDLE&#160;</td>
          <td class="paramname"><em>thruster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxmassflow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connects a thruster to this injector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thruster</td><td>The handle to a orbiter thruster </td></tr>
    <tr><td class="paramname">maxmassflow</td><td>The maximum massflow of the thruster, in kg/s </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In contrast to <a class="el" href="class_i_m_s___propellant_injector.html#a81deb8adc3b86d81c190c91a49db452e" title="Connects a tank to this injector. ">ConnectTank()</a> and <a class="el" href="class_i_m_s___propellant_injector.html#a4eac5982f98b7458ab81e98c6b2a4dc4" title="Disconnects a tank from this injector. ">DisconnectTank()</a>, this method has no way of verifying if the passed thruster is actually suited for this injector. Make sure to check compatibility using <a class="el" href="class_i_m_s___propellant_injector.html#ad406d4473e847c512abda6cbae11e9fa">CompareMixture()</a> before adding a thruster to an injector! </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_i_m_s___propellant_injector.html#ad7f30fda51853108a3ff253d346f7f3f" title="Removes a thruster from this injector. ">DisconnectThruster()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5899af38dd1b1bd5e6960798b129c367"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IMS_PropellantInjector::DisableThruster </td>
          <td>(</td>
          <td class="paramtype">THRUSTER_HANDLE&#160;</td>
          <td class="paramname"><em>thruster</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks a thruster as not currently operational. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thruster</td><td>An orbiter THRUSTER_HANDLE to the thruster to be disabled </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the thruster is now disabled (regardless of whether or not it was before), false if the thruster isn't actually connected to this injector. </dd></dl>

</div>
</div>
<a class="anchor" id="a4eac5982f98b7458ab81e98c6b2a4dc4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IMS_PropellantInjector::DisconnectTank </td>
          <td>(</td>
          <td class="paramtype">IMS_Storable *&#160;</td>
          <td class="paramname"><em>tank</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnects a tank from this injector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tank</td><td>The IMS_Storable to be removed from the injector </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the tank was disconnected, false if the tank was not actually connected to this injector </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_i_m_s___propellant_injector.html#a81deb8adc3b86d81c190c91a49db452e" title="Connects a tank to this injector. ">ConnectTank()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad7f30fda51853108a3ff253d346f7f3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IMS_PropellantInjector::DisconnectThruster </td>
          <td>(</td>
          <td class="paramtype">THRUSTER_HANDLE&#160;</td>
          <td class="paramname"><em>thruster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxmassflow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a thruster from this injector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thruster</td><td>the handle to an orbiter thruster </td></tr>
    <tr><td class="paramname">maxmassflow</td><td>the maximum massflow of the thruster, in kg/s </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the thruster was disconnected, false if the thruster was not actually connected to this injector </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This should only be called if a thruster is removed from a vessel. The injector will disconnect its internal propellant resource from its thrusters when the tanks run dry to disable the thruster, this method must not be called to do that. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_i_m_s___propellant_injector.html#a8d6028770cac10323e2bb410ae8a697d" title="Connects a thruster to this injector. ">ConnectThruster</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aaab3c3741bb620194040920db020b261"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IMS_PropellantInjector::EnableThruster </td>
          <td>(</td>
          <td class="paramtype">THRUSTER_HANDLE&#160;</td>
          <td class="paramname"><em>thruster</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks a thruster as ready for operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thruster</td><td>An orbiter THRUSTER_HANDLE to the thruster to be enabled </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the thruster is now enabled (regardless of whether or not it was before), false if the thruster isn't actually connected to this injector. </dd></dl>

</div>
</div>
<a class="anchor" id="a76171d2053a531f5c519d2caafe67fbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double IMS_PropellantInjector::GetAvailablePropellantMass </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the total amount of propellant available to the injector, in kg </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This does not take the mixture into account! It may well be that the injector has a ton of propellant available, but can only burn 100 kg because the propellants are not proportional to the ratio at which they are consumed! </dd></dl>

</div>
</div>
<a class="anchor" id="aedac3dbc48d488c3d04800e7a7113561"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int IMS_PropellantInjector::GetNumberOfThrusters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The number of thrusters this injector currently connects to </dd></dl>

</div>
</div>
<a class="anchor" id="ab6270bb8283bf73a07f78094d09e136d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IMS_PropellantInjector::PreStep </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates propellant consumption since last call. </p>
<p>Resizes virtual propellant resource if necessary, draws consumed propellant from connected tanks </p><dl class="section return"><dt>Returns</dt><dd>true if the mass of the virtual propellant resource has changed, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a357e1eaa8c63a378d24c9219375a6819"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void IMS_PropellantInjector::scaleInjectorResource </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Scales the virtual propellant resource depending on time acceleration and mximum massflow of the engine </p><dl class="section note"><dt>Note</dt><dd>This method changes the mass of the underlying orbiter vessel. Any caller is responsible to insure that the vessel mass of the IMS vessel is recalculated in the same frame, but should take care that it is not done twice in the same frame. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/Orbiter2016/Orbitersdk/IMS2/IMS_PropellantInjector.h</li>
<li>C:/Orbiter2016/Orbitersdk/IMS2/IMS_PropellantInjector.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_i_m_s___propellant_injector.html">IMS_PropellantInjector</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
